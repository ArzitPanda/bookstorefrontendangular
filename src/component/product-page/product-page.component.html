<div *ngIf="isLoading" class="flex justify-center items-center h-full">
    <mat-spinner></mat-spinner>
  </div>
  <div *ngIf="!isLoading" class="p-6 flex flex-col bg-white w-full h-screen">
   <div class="w-full flex items-center justify-center gap-24">
    <div class="flex w-1/3  items-center">
        <img class="w-8/12 h-4/12 object-contain rounded mb-4" 
        [src]="product.bookImage?'data:image/jpeg;base64,'+product.bookImage : bookImage"
        alt="Book Image">
       
      </div>
    <div class=" h-full mt-32" >
      <div class="w-full flex flex-col text-right items-end justify-end">
          <h1 class="text-4xl font-bold text-blue-600 mb-2">{{ product.name }}</h1>
          <p class="text-gray-700 text-lg mb-2">{{ product.description }}</p>
          <p class="text-gray-500 text-lg mb-2">Author: {{ product.authorName }}</p>
          <p class="text-gray-900 text-lg mb-2">Price: {{ product.price | currency }}</p>
          <p class="text-green-600 text-lg mb-2">Discount Price: {{ product.discountPrice | currency }}</p>
          <p class="text-gray-500 text-lg mb-2">Quantity: {{ product.quantity }}</p>
          <p class="text-gray-400 text-lg mb-2">Created At: {{ product.createdAt | date }}</p>
          <p class="text-gray-400 text-lg mb-2">Updated At: {{ product.updateAt | date }}</p>
        </div>
        <div class="flex justify-center items-center mt-4 space-x-4 gap-12">
          <button class="bg-blue-600 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded flex items-center" (click)="onAddToCart()">
            <mat-icon class="mr-2">shopping_cart</mat-icon> Add to Cart
          </button>
          <button class="text-gray-500 hover:text-gray-700 flex items-center">
            <mat-icon class="mr-2">favorite</mat-icon> Add to Wishlist
          </button>
        </div>
  
    </div>
    
   </div> 
  
   
   <div class="mt-6">
    <h2 class="text-2xl font-bold mb-2 text-left bg-gray-100 p-2">Reviews</h2>
    <textarea [(ngModel)]="newReview.comment" class="w-full p-2 border border-gray-300 rounded mb-2" placeholder="Write a review..."></textarea>
    <input [(ngModel)]="newReview.rating" type="number" min="0" max="5" class="w-full p-2 border border-gray-300 rounded mb-2" placeholder="Rating (0-5)">
    <div class="flex justify-center">
      <button (click)="submitReview()" class="bg-blue-600 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded">Submit Review</button>
    </div>
    <div class="flex justify-center mt-2">
      <button class="text-blue-600 hover:underline" (click)="toggleReviews()">Show Reviews</button>
    </div>
    <div *ngIf="showReviews" class="mt-4 space-y-2">
      <div *ngFor="let review of reviews" class="p-4 border border-gray-200 rounded">
        <p class="text-gray-700">{{ review.comment }}</p>
        <p class="text-gray-500 text-sm">- Rating: {{ review.rating }}</p>
      </div>
    </div>
  </div>
  
  